(if (not (package-installed-p 'use-package))
    ;; Install package automatically if not already installed.
    (progn
      (package-refresh-contents)
      (package-install 'use-package)))


;; Make tramp quicker with ssh
(setq tramp-default-method "ssh")


;; list the repositories containing them
;; see https://elpa.gnu.org
(add-to-list 'package-archives
             '("gnu" . "https://elpa.gnu.org/packages/")
             t)
;; see https://marmalade-repo.org
(add-to-list 'package-archives
             '("marmalade" . "http://marmalade-repo.org/packages/")
             t)
(add-to-list 'package-archives
             '("melpa-stable" . "https://stable.melpa.org/packages/") t)

;; activate all the packages (in particular autoloads)
(package-initialize)

;; See https://www.emacswiki.org/emacs/PythonProgrammingInEmacs
;;(use-package flycheck
;;  :ensure t
;;   :init (global-flycheck-mode))

;;list the packages I want
;; elpy https://elpy.readthedocs.io/en/latest/introduction.html#installation
;; Before using
;;(setq package-list '(use-package elpy))
;;(use-package elpy
;;  :ensure t
;;  :defer t
;;  :init
;;  (advice-add 'python-mode :before 'elpy-enable))

(elpy-enable)

;; py-autopep8
;; (add-hook 'python-mode-hook 'py-autopep8-enable-on-save)
;; (setq py-autopep8-options '("--max-line-length=100"))
;; LSP JEDI
;;(use-package lsp-jedi
;;  :ensure t
;;  :config
;;  (with-eval-after-load "lsp-mode"
;;    (add-to-list 'lsp-disabled-clients 'pyls)
;;    (add-to-list 'lsp-enabled-clients 'jedi)))
